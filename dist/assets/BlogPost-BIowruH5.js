import{j as n}from"./ui-DVmofzuT.js";import{r as v,e as R,L as T}from"./vendor-Bh044VG2.js";import{u as L,c as p,s as j,L as F}from"./index-BMdVCYPh.js";import{p as Y}from"./purify.es-DhD2mIk-.js";import{c as q,g as B}from"./categoryService-BgLIrQg1.js";import"./three-DA2LJXh8.js";const P=43200,z=1440,U=Symbol.for("constructDateFrom");function E(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&U in e?e[U](r):e instanceof Date?new e.constructor(r):new Date(r)}function k(e,r){return E(e,e)}let I={};function V(){return I}function O(e){const r=k(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function A(e,...r){const t=E.bind(null,e||r.find(s=>typeof s=="object"));return r.map(t)}function _(e,r){const t=+k(e)-+k(r);return t<0?-1:t>0?1:t}function H(e){return E(e,Date.now())}function J(e,r,t){const[s,a]=A(t==null?void 0:t.in,e,r),c=s.getFullYear()-a.getFullYear(),i=s.getMonth()-a.getMonth();return c*12+i}function Q(e){return r=>{const s=(e?Math[e]:Math.trunc)(r);return s===0?0:s}}function G(e,r){return+k(e)-+k(r)}function K(e,r){const t=k(e);return t.setHours(23,59,59,999),t}function $(e,r){const t=k(e),s=t.getMonth();return t.setFullYear(t.getFullYear(),s+1,0),t.setHours(23,59,59,999),t}function Z(e,r){const t=k(e);return+K(t)==+$(t)}function ee(e,r,t){const[s,a,c]=A(t==null?void 0:t.in,e,e,r),i=_(a,c),o=Math.abs(J(a,c));if(o<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*o);let x=_(a,c)===-i;Z(s)&&o===1&&_(s,c)===1&&(x=!1);const u=i*(o-+x);return u===0?0:u}function te(e,r,t){const s=G(e,r)/1e3;return Q(t==null?void 0:t.roundingMethod)(s)}const re={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ne=(e,r,t)=>{let s;const a=re[e];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+s:s+" ago":s};function W(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const ae={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},se={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ie={date:W({formats:ae,defaultWidth:"full"}),time:W({formats:se,defaultWidth:"full"}),dateTime:W({formats:oe,defaultWidth:"full"})},le={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ce=(e,r,t,s)=>le[e];function C(e){return(r,t)=>{const s=t!=null&&t.context?String(t.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,o=t!=null&&t.width?String(t.width):i;a=e.formattingValues[o]||e.formattingValues[i]}else{const i=e.defaultWidth,o=t!=null&&t.width?String(t.width):e.defaultWidth;a=e.values[o]||e.values[i]}const c=e.argumentCallback?e.argumentCallback(r):r;return a[c]}}const de={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},me={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},he={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xe=(e,r)=>{const t=Number(e),s=t%100;if(s>20||s<10)switch(s%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},be={ordinalNumber:xe,era:C({values:de,defaultWidth:"wide"}),quarter:C({values:ue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:C({values:me,defaultWidth:"wide"}),day:C({values:he,defaultWidth:"wide"}),dayPeriod:C({values:fe,defaultWidth:"wide",formattingValues:ge,defaultFormattingWidth:"wide"})};function S(e){return(r,t={})=>{const s=t.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],c=r.match(a);if(!c)return null;const i=c[0],o=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],x=Array.isArray(o)?we(o,m=>m.test(i)):ye(o,m=>m.test(i));let u;u=e.valueCallback?e.valueCallback(x):x,u=t.valueCallback?t.valueCallback(u):u;const g=r.slice(i.length);return{value:u,rest:g}}}function ye(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function we(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function pe(e){return(r,t={})=>{const s=r.match(e.matchPattern);if(!s)return null;const a=s[0],c=r.match(e.parsePattern);if(!c)return null;let i=e.valueCallback?e.valueCallback(c[0]):c[0];i=t.valueCallback?t.valueCallback(i):i;const o=r.slice(a.length);return{value:i,rest:o}}}const ve=/^(\d+)(th|st|nd|rd)?/i,je=/\d+/i,ke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Me={any:[/^b/i,/^(a|c)/i]},Ne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},De={any:[/1/i,/2/i,/3/i,/4/i]},Ce={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Se={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},We={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Fe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Le={ordinalNumber:pe({matchPattern:ve,parsePattern:je,valueCallback:e=>parseInt(e,10)}),era:S({matchPatterns:ke,defaultMatchWidth:"wide",parsePatterns:Me,defaultParseWidth:"any"}),quarter:S({matchPatterns:Ne,defaultMatchWidth:"wide",parsePatterns:De,defaultParseWidth:"any",valueCallback:e=>e+1}),month:S({matchPatterns:Ce,defaultMatchWidth:"wide",parsePatterns:Se,defaultParseWidth:"any"}),day:S({matchPatterns:Pe,defaultMatchWidth:"wide",parsePatterns:_e,defaultParseWidth:"any"}),dayPeriod:S({matchPatterns:We,defaultMatchWidth:"any",parsePatterns:Fe,defaultParseWidth:"any"})},Ee={code:"en-US",formatDistance:ne,formatLong:ie,formatRelative:ce,localize:be,match:Le,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ae(e,r,t){const s=V(),a=(t==null?void 0:t.locale)??s.locale??Ee,c=2520,i=_(e,r);if(isNaN(i))throw new RangeError("Invalid time value");const o=Object.assign({},t,{addSuffix:t==null?void 0:t.addSuffix,comparison:i}),[x,u]=A(t==null?void 0:t.in,...i>0?[r,e]:[e,r]),g=te(u,x),m=(O(u)-O(x))/1e3,d=Math.round((g-m)/60);let w;if(d<2)return t!=null&&t.includeSeconds?g<5?a.formatDistance("lessThanXSeconds",5,o):g<10?a.formatDistance("lessThanXSeconds",10,o):g<20?a.formatDistance("lessThanXSeconds",20,o):g<40?a.formatDistance("halfAMinute",0,o):g<60?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",1,o):d===0?a.formatDistance("lessThanXMinutes",1,o):a.formatDistance("xMinutes",d,o);if(d<45)return a.formatDistance("xMinutes",d,o);if(d<90)return a.formatDistance("aboutXHours",1,o);if(d<z){const b=Math.round(d/60);return a.formatDistance("aboutXHours",b,o)}else{if(d<c)return a.formatDistance("xDays",1,o);if(d<P){const b=Math.round(d/z);return a.formatDistance("xDays",b,o)}else if(d<P*2)return w=Math.round(d/P),a.formatDistance("aboutXMonths",w,o)}if(w=ee(u,x),w<12){const b=Math.round(d/P);return a.formatDistance("xMonths",b,o)}else{const b=w%12,l=Math.trunc(w/12);return b<3?a.formatDistance("aboutXYears",l,o):b<9?a.formatDistance("overXYears",l,o):a.formatDistance("almostXYears",l+1,o)}}function Te(e,r){return Ae(e,H(e),r)}const ze=({comment:e,onDelete:r,onUpdate:t,onReport:s})=>{const[a,c]=v.useState(!1),[i,o]=v.useState(e.content),[x,u]=v.useState(!1),[g,m]=v.useState(""),{user:d}=L(),w=(d==null?void 0:d.id)===e.user.id,b=(d==null?void 0:d.role)==="admin",l=w||b,h=Te(new Date(e.created_at),{addSuffix:!0}),f=()=>{i.trim()?(t(e.id,i),c(!1)):p.error("Comment cannot be empty")},y=()=>{o(e.content),c(!1)},N=()=>{g.trim()?(s==null||s(e.id,g.trim()),u(!1),m("")):p.error("Please provide a reason for reporting")};return n.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/10 rounded-lg p-4 mb-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[e.user.avatar_url?n.jsx("img",{src:e.user.avatar_url,alt:e.user.username||"User",className:"w-8 h-8 rounded-full mr-2 object-cover"}):n.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/30 flex items-center justify-center mr-2",children:n.jsx("span",{className:"text-white text-xs",children:(e.user.username||"U").substring(0,2).toUpperCase()})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium text-white",children:e.user.username||e.user.full_name||"Anonymous"}),n.jsx("div",{className:"text-xs text-white/60",children:h})]}),n.jsx("div",{className:"ml-auto flex space-x-2",children:a?n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:f,className:"text-accent hover:text-accent/80 transition-colors","aria-label":"Save",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("button",{onClick:y,className:"text-white/60 hover:text-white/80 transition-colors","aria-label":"Cancel",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}):n.jsxs(n.Fragment,{children:[w&&n.jsx("button",{onClick:()=>c(!0),className:"text-white/60 hover:text-white/80 transition-colors","aria-label":"Edit",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),l&&n.jsx("button",{onClick:()=>r(e.id),className:"text-white/60 hover:text-red-500 transition-colors","aria-label":"Delete",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),d&&!w&&!e.reported&&n.jsx("button",{onClick:()=>u(!0),className:"text-white/60 hover:text-yellow-500 transition-colors","aria-label":"Report",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})]})})]}),a?n.jsx("textarea",{value:i,onChange:D=>o(D.target.value),className:"w-full bg-black/20 text-white border border-white/20 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-accent",rows:3}):n.jsx("p",{className:"text-white/90 break-words",children:e.content}),x&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:n.jsxs("div",{className:"bg-background-primary rounded-lg p-6 max-w-sm w-full shadow-xl",children:[n.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Report Comment"}),n.jsx("textarea",{value:g,onChange:D=>m(D.target.value),placeholder:"Please provide a reason for reporting this comment...",className:"w-full bg-black/20 text-white border border-white/20 rounded-lg p-2 mb-4 focus:outline-none focus:ring-2 focus:ring-accent",rows:3}),n.jsxs("div",{className:"flex justify-end space-x-4",children:[n.jsx("button",{onClick:()=>{u(!1),m("")},className:"px-4 py-2 text-white/60 hover:text-white",children:"Cancel"}),n.jsx("button",{onClick:N,className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600",children:"Submit Report"})]})]})})]})},Ue=({postId:e})=>{const[r,t]=v.useState([]),[s,a]=v.useState(!0),[c,i]=v.useState(""),[o,x]=v.useState(!1),{user:u}=L();v.useEffect(()=>{g()},[e]);async function g(){try{a(!0);const{data:l,error:h}=await j.from("comments").select("*").eq("post_id",e).order("created_at",{ascending:!1});if(h)throw h;const f=[...new Set((l==null?void 0:l.map(M=>M.user_id))||[])],{data:y,error:N}=await j.from("profiles").select("*").in("id",f);if(N)throw N;const D=new Map(y==null?void 0:y.map(M=>[M.id,M])),X=(l==null?void 0:l.map(M=>({...M,user:D.get(M.user_id)||{username:"Unknown",full_name:"Unknown User"}})))||[];t(X)}catch(l){console.error("Error fetching comments:",l),p.error("Failed to load comments")}finally{a(!1)}}const m=async l=>{if(l.preventDefault(),!u){p.error("You must be logged in to comment");return}if(!c.trim()){p.error("Comment cannot be empty");return}try{x(!0);const{data:h,error:f}=await j.from("comments").insert([{content:c.trim(),post_id:e,user_id:u.id}]).select("*").single();if(f)throw f;const{data:y}=await j.from("profiles").select("*").eq("id",u.id).single(),N={...h,user:y||{username:u.username||"Unknown",full_name:u.full_name||"Unknown User",avatar_url:u.avatar_url}};t([N,...r]),i(""),p.success("Comment added successfully")}catch(h){console.error("Error adding comment:",h),p.error("Failed to add comment")}finally{x(!1)}},d=async l=>{try{const{error:h}=await j.from("comments").delete().eq("id",l);if(h)throw h;t(r.filter(f=>f.id!==l)),p.success("Comment deleted successfully")}catch(h){console.error("Error deleting comment:",h),p.error("Failed to delete comment")}},w=async(l,h)=>{try{const{error:f}=await j.from("comments").update({content:h,updated_at:new Date().toISOString()}).eq("id",l);if(f)throw f;t(r.map(y=>y.id===l?{...y,content:h,updated_at:new Date().toISOString()}:y)),p.success("Comment updated successfully")}catch(f){console.error("Error updating comment:",f),p.error("Failed to update comment")}},b=async(l,h)=>{try{const{error:f}=await j.from("comments").update({reported:!0,report_reason:h}).eq("id",l);if(f)throw f;t(r.map(y=>y.id===l?{...y,reported:!0,report_reason:h}:y)),p.success("Comment reported successfully")}catch(f){console.error("Error reporting comment:",f),p.error("Failed to report comment")}};return n.jsxs("div",{className:"mt-12",children:[n.jsx("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Comments"}),u?n.jsxs("form",{onSubmit:m,className:"mb-8",children:[n.jsx("div",{className:"mb-4",children:n.jsx("textarea",{value:c,onChange:l=>i(l.target.value),placeholder:"Add a comment...",className:"w-full bg-black/40 backdrop-blur-md border border-white/10 rounded-lg p-4 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-accent",rows:3,disabled:o})}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-accent text-white rounded-lg hover:bg-accent/80 transition-colors disabled:opacity-50",children:o?n.jsx(F,{size:"sm"}):"Post Comment"})})]}):n.jsxs("div",{className:"mb-8 p-4 bg-black/40 backdrop-blur-md border border-white/10 rounded-lg text-white/80 text-center",children:["Please ",n.jsx("a",{href:"/login",className:"text-accent hover:underline",children:"log in"})," to leave a comment."]}),s?n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsx(F,{size:"md"})}):r.length>0?n.jsx("div",{children:r.map(l=>n.jsx(ze,{comment:l,onDelete:d,onUpdate:w,onReport:b},l.id))}):n.jsx("div",{className:"text-center py-8 text-white/60",children:"No comments yet. Be the first to share your thoughts!"})]})};function Ie(){var g;const{id:e}=R(),[r,t]=v.useState(null),[s,a]=v.useState(!0),[c,i]=v.useState(null),{user:o}=L();v.useEffect(()=>{e&&e!=="undefined"?x():(a(!1),i("No post ID provided"))},[e]);async function x(){try{const{data:m,error:d}=await j.from("posts").select("*").eq("id",e).single();if(d)throw d;if(!m.published&&(!o||o.id!==m.author_id)){t(null);return}const{data:w,error:b}=await j.from("profiles").select("*").eq("id",m.author_id).single();if(b&&b.code!=="PGRST116")throw b;m.category_ml||(m.category_ml=q(m.content));const l={...m,author:w||{username:"Unknown",full_name:"Unknown User",avatar_url:""}};t(l)}catch(m){console.error("Error fetching post:",m),t(null),i("Failed to load post")}finally{a(!1)}}if(s)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsx(F,{size:"lg"})});if(c||!r)return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Post not found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8",children:c||"The post you're looking for doesn't exist or has been removed."}),n.jsx(T,{to:"/blog",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"← Back to Blog"})]})});const u=Y.sanitize(r.content);return n.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:n.jsxs("article",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("header",{className:"mb-8",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs(T,{to:"/blog",className:"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 flex items-center",children:[n.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Blog"]}),!r.published&&n.jsx("span",{className:"px-3 py-1 bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100 rounded-full text-sm font-medium",children:"Draft"}),r.category_ml&&n.jsx("span",{className:"px-3 py-1 text-sm rounded-md text-white font-medium",style:{backgroundColor:B(r.category_ml)},children:r.category_ml})]}),r.featured_image&&n.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-8 rounded-lg overflow-hidden",children:n.jsx("img",{src:r.featured_image,alt:r.title,className:"w-full h-full object-cover"})}),n.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-gray-900 dark:text-gray-100 mb-4",children:r.title}),n.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[n.jsxs("span",{children:["By ",((g=r.author)==null?void 0:g.username)||"Anonymous"]}),n.jsx("span",{className:"mx-2",children:"•"}),n.jsx("time",{dateTime:r.created_at,children:new Date(r.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),r.audio_url&&n.jsx("div",{className:"mb-8",children:n.jsxs("audio",{controls:!0,className:"w-full",style:{backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"0.5rem",padding:"0.5rem"},children:[n.jsx("source",{src:r.audio_url,type:"audio/mpeg"}),"Your browser does not support the audio element."]})}),n.jsx("div",{className:"prose prose-lg dark:prose-invert mx-auto",dangerouslySetInnerHTML:{__html:u}}),n.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-200 dark:border-gray-800",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-6",children:"Comments"}),n.jsx(Ue,{postId:r.id})]})]})})}export{Ie as default};
